<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#673AB7">
  <title>Roy Solberg - blog.roysolberg.com</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/roys/js-web-blog/4c063477/css/materialize.min.css" />
  <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/roys/js-web-blog/4c063477/css/jqcloud.min.css" />
  <link type="text/css" rel="stylesheet" href="/css/blog.css" />
  <script type="text/javascript" src="/contents.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/roys/js-web-blog/4c063477/js/materialize.min.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/roys/js-web-blog/4c063477/js/jqcloud.min.js"></script>
  <script type="text/javascript" src="/js/app.js"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async src="https://roysolberg.disqus.com/embed.js"></script>
  <!-- Local dev: ->
  <script type="text/javascript" src="js/app.js"></script>
  <link type="text/css" rel="stylesheet" href="css/blog.css" />
  <script type="text/javascript" src="contents.js"></script>
  <!- -->
  <script>
    window.SpaBlog = window.SpaBlog || {}; // Our namespace
    window.SpaBlog.config = {
      trackerId: 'UA-392774-21',
      blogUrlPrefix: ''
    };

    $(function () {
      ko.bindingHandlers.fadeVisible = {
        init: function (element, valueAccessor) {
          //console.log('init():' + element);
          // Initially set the element to be instantly visible/hidden depending on the value
          var value = valueAccessor();
          $(element).toggle(ko.unwrap(value)); // Use "unwrapObservable" so we can handle values that may or may not be observable
        },
        update: function (element, valueAccessor) {
          //console.log('update():' + element);
          // Whenever the value subsequently changes, slowly fade the element in or out
          var value = valueAccessor();
          ko.unwrap(value) ? $(element).fadeIn('fast') : $(element).fadeOut('fast');
        }
      };

      var viewModel = new SpaBlog.AppViewModel();
      ko.applyBindings(viewModel);
      viewModel.goToPageBasedOnUrl();
    });
  </script>
</head>

<body>
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', window.SpaBlog.config.trackerId, 'auto');
    ga('send', 'pageview');
  </script>
  <nav>
    <div class="nav-wrapper">
      <div class="container">
        <!-- a href="/blog/" class="brand-logo left" data-bind="click: function(){$root.goToFrontpage()}">My blog</a -->
        <ul id="nav-mobile" class="left">
          <li><a data-bind="attr: { href: window.SpaBlog.config.blogUrlPrefix }, click: function(){$root.goToFrontpage()}">blog.roysolberg.com</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <div id="frontpage" style="display: none" class="container" data-bind="template: { name: 'frontpage-template', if: function(){ !$data.post() && !$data.category() && !$data.tag() }}, fadeVisible: $data.shouldDisplayFrontpage">
  </div>
  <div id="article" style="display: none" class="container" data-bind="template: { name: 'article-template', if: $data.post}, fadeVisible: $data.shouldDisplayArticle">
  </div>
  <div id="category" style="display: none" class="container" data-bind="template: { name: 'category-template', if: $data.category}, fadeVisible: $data.shouldDisplayCategory">
  </div>
  <div id="tag" style="display: none" class="container" data-bind="template: { name: 'tag-template', if: $data.tag}, fadeVisible: $data.shouldDisplayTag">
  </div>
  <div id="notfound" style="display: none" class="container" data-bind="template: { name: 'notfound-template', if: $data.shouldDisplayPageNotFound}, fadeVisible: $data.shouldDisplayPageNotFound">
  </div>
  <footer id="footer" style="display: none" class="page-footer" data-bind="visible: true, fadeVisible: !$data.isTransitioning()">
    <div class="footer-copyright">
      <div class="container">
        <a class="grey-text text-lighten-4" href="http://roysolberg.com/">Â© 2017 Roy Solberg</a> - <a class="grey-text text-lighten-4" href="http://www.google.com/recaptcha/mailhide/d?k=01Z_D2EadqicowX66pRky9dw==&amp;c=-v22ZSXTNUQpeb5RKgMrMG_vUW-tue2CWjehMf2S7HQ=" onclick="window.open('http://www.google.com/recaptcha/mailhide/d?k\x3d01Z_D2EadqicowX66pRky9dw\x3d\x3d\x26c\x3d-v22ZSXTNUQpeb5RKgMrMG_vUW-tue2CWjehMf2S7HQ\x3d', '', 'toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width=500,height=300'); return false;" title="Reveal this e-mail address">c...@roysolberg.com</a>
        <a class="grey-text text-lighten-4 right" href="https://github.com/roys/js-web-blog">GitHub project</a>
      </div>
    </div>
  </footer>
  <script type="text/html" id="frontpage-template">
    <h4>Latest posts</h4>
    <div class="row" data-bind="foreach: {data: posts, as: 'post'}">
      <div class="col s12 m6 l4 xl3">
        <div class="card">
          <div class="card-content waves-effect" data-bind="click: function(){$root.goToPost(post)}">
            <span class="card-title" data-bind="text: post.title"></span>
            <p data-bind="text: post.summary"></p>
          </div>
          <div class="card-action">
            <a href="#" data-bind="attr: { href: post.niceUrl}, click: function(){$root.goToPost(post)}">Read more</a>
          </div>
        </div>
        <a href="#" data-bind="attr: { href: post.niceUrl}"></a>
      </div>
    </div>
    <h4>Categories</h4>
    <div class="row">
      <div class="col s12 m6 l4">
        <div class="collection" data-bind="foreach: {data: categories, as: 'category'}">
          <a href="#" class="collection-item" data-bind="attr: { href: category.url}, text: category.title, click: function(){$root.goToCategory(category)}">Category</a>
        </div>
      </div>
    </div>
    <!--
    <div class="row" data-bind="foreach: {data: categories, as: 'category'}">
      <div class="col s12 m3 l4">
        <div class="card">
          <div class="card-content waves-effect" data-bind="click: function(){$root.goToCategory(category)}">
            <span class="card-title" data-bind="text: category.title"></span>
          </div>
        </div>
        <a href="#" data-bind="attr: { href: category.url}"></a>
      </div>
    </div>
    -->
    <h4>Tags</h4>
    <div class="row">
      <div id="tag-cloud" class="col s12 m8 l6" style="height:150px;"></div>
    </div>
  </script>

  <script type="text/html" id="article-template">
    <div style="margin-bottom:0px;" class="row">
      <div class="col s12">
        <h3 data-bind="text: post().title">Article</h3>
      </div>
    </div>
    <div class="row">
      <div class="col s12">
        <p class="flow-text"><b data-bind="html: post().summary"></b></p>
      </div>
    </div>
    <table class="article grey-text">
      <tr data-bind="with: post().publishDate">
        <td style="width:5%;" class="">Published:</td>
        <td data-bind="text: new Date($data).toLocaleString('en-US', {weekday: 'short', year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', hour12: false})">
        </td>
      </tr>
      <tr data-bind="with: post().category">
        <td style="width:5%">Category:</td>
        <td>
          <a href="#" data-bind="attr: { href: 'category' + url}, click: function(){$root.goToCategory($data)}">
            <div class="chip" data-bind="text: title"></div>
          </a>
        </td>
      </tr>
      <tr data-bind="with: post().tags">
        <td style="width:5%" data-bind="text: $data.length > 1 ? 'Tags:' : 'Tag:'">Tags:</td>
        <td>
          <!-- ko foreach: {data: $data, as: 'tag'} -->
          <a href="#" data-bind="attr: { href: 'tag' + tag.url }, click: function(){$root.goToTag(tag)}">
            <div class="chip" data-bind="text: tag.title"></div>
          </a>
          <!-- /ko -->
        </td>
      </tr>
    </table>
    <div class="row" style="min-height:200px;margin-top:20px;">
      <div class="col s12">
        <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-format="fluid" data-ad-layout="in-article" data-ad-client="ca-pub-3386970467864670" data-ad-slot="1640511001"></ins>
      </div>
    </div>
    <div class="row">
      <div class="col s12">
        <p style="white-space: pre-wrap;" class="flow-text" data-bind="html: post().text"></p>
      </div>
    </div>
    <div id="disqus_thread"></div>
  </script>

  <script type="text/html" id="category-template">
    <div style="margin-bottom:0px;" class="row">
      <div class="col s12">
        <h3 data-bind="text: category().title">Category</h3>
        <p>Showing all articles in category.</p>
      </div>
    </div>
    <div class="row">
      <!-- ko foreach: {data: posts, as: 'post'} -->
      <!-- ko if: post.category && $parent.category().title === post.category.title -->
      <div class="col s12 m6 l4 xl3">
        <div class="card">
          <div class="card-content waves-effect" data-bind="click: function(){$root.goToPost(post)}">
            <span class="card-title" data-bind="text: post.title"></span>
            <p data-bind="text: post.summary"></p>
          </div>
          <div class="card-action">
            <a href="#" data-bind="attr: { href: post.niceUrl}, click: function(){$root.goToPost(post)}">Read more</a>
          </div>
        </div>
        <a href="#" data-bind="attr: { href: post.niceUrl}"></a>
      </div>
      <!-- /ko -->
      <!-- /ko -->
      <div class="col s12 m7 l6 xl5">
        <div class="card">
          <div class="card-content" style="min-height:185px;padding-top:10px;padding-bottom:0px;">
            <ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout="text-only" data-ad-layout-key="-hk-w+1i-26+5k" data-ad-client="ca-pub-3386970467864670" data-ad-slot="4289713314"></ins>
          </div>
        </div>
      </div>
  </script>

  <script type="text/html" id="tag-template">
    <div style="margin-bottom:0px;" class="row">
      <div class="col s12">
        <h3 data-bind="text: tag().title">Tag</h3>
        <p>Showing all articles with selected tag.</p>
      </div>
    </div>
    <div class="row">
      <!-- ko foreach: {data: posts, as: 'post'} -->
      <!-- ko foreach: {data: post.tags, as: 'tag'} -->
      <!-- ko if: $root.tag().title === tag.title -->
      <div class="col s12 m6 l4 xl3">
        <div class="card">
          <div class="card-content waves-effect" data-bind="click: function(){$root.goToPost(post)}">
            <span class="card-title" data-bind="text: post.title"></span>
            <p data-bind="text: post.summary"></p>
          </div>
          <div class="card-action">
            <a href="#" data-bind="attr: { href: post.niceUrl}, click: function(){$root.goToPost(post)}">Read more</a>
          </div>
        </div>
        <a href="#" data-bind="attr: { href: post.niceUrl}"></a>
      </div>
      <!-- /ko -->
      <!-- /ko -->
      <!-- /ko -->
      <div class="col s12 m7 l6 xl5">
        <div class="card">
          <div class="card-content" style="min-height:185px;padding-top:10px;padding-bottom:0px;">
            <ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout="text-only" data-ad-layout-key="-hk-w+1i-26+5k" data-ad-client="ca-pub-3386970467864670" data-ad-slot="4289713314"></ins>
          </div>
        </div>
      </div>
  </script>

  <script type="text/html" id="notfound-template">
    <div style="margin-bottom:0px;" class="row">
      <div class="col s12">
        <h3>Page not found :(</h3>
        <p class="flow-text">Sorry, could not locate the page you were looking for.</p>
        <p class="flow-text">You can try to <a href="#" onclick="window.history.back();return false;">go back</a> or go to <a href="#" data-bind="attr: { href: window.SpaBlog.config.blogUrlPrefix }, click: function(){$root.goToFrontpage()}">the frontpage</a> to find the page you were looking for.</p>
      </div>
    </div>
  </script>
</body>

</html>